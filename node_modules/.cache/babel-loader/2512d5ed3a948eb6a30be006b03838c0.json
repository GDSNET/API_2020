{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports[\"react-keyed-file-browser\"] = t() : e[\"react-keyed-file-browser\"] = t();\n}(window, function () {\n  return function (e) {\n    var t = {};\n\n    function n(r) {\n      if (t[r]) return t[r].exports;\n      var o = t[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, r) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: r\n      });\n    }, n.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (e, t) {\n      if (1 & t && (e = n(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var r = Object.create(null);\n      if (n.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var o in e) {\n        n.d(r, o, function (t) {\n          return e[t];\n        }.bind(null, o));\n      }\n      return r;\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"\", n(n.s = 6);\n  }([function (e, t) {\n    e.exports = require(\"react\");\n  }, function (e, t) {\n    e.exports = require(\"prop-types\");\n  }, function (e, t) {\n    e.exports = require(\"moment\");\n  }, function (e, t) {\n    e.exports = require(\"react-dnd\");\n  }, function (e, t) {\n    e.exports = require(\"react-dnd-html5-backend\");\n  }, function (e, t) {\n    e.exports = require(\"classnames\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t);\n    var r = {};\n    n.r(r), n.d(r, \"DefaultDetail\", function () {\n      return P;\n    });\n    var o = {};\n    n.r(o), n.d(o, \"DefaultFilter\", function () {\n      return T;\n    });\n    var i = {};\n    n.r(i), n.d(i, \"TableHeader\", function () {\n      return de;\n    });\n    var a = {};\n    n.r(a), n.d(a, \"ListThumbnailFile\", function () {\n      return Se;\n    }), n.d(a, \"SimpleListThumbnailFile\", function () {\n      return Ae;\n    }), n.d(a, \"TableFile\", function () {\n      return We;\n    }), n.d(a, \"RawListThumbnailFile\", function () {\n      return Pe;\n    }), n.d(a, \"RawTableFile\", function () {\n      return ze;\n    });\n    var l = {};\n    n.r(l), n.d(l, \"isFolder\", function () {\n      return $e;\n    });\n    var c = {};\n    n.r(c), n.d(c, \"ListThumbnailFolder\", function () {\n      return pt;\n    }), n.d(c, \"TableFolder\", function () {\n      return Ft;\n    }), n.d(c, \"RawListThumbnailFolder\", function () {\n      return ft;\n    }), n.d(c, \"RawTableFolder\", function () {\n      return wt;\n    });\n    var s = {};\n    n.r(s), n.d(s, \"GroupByFolder\", function () {\n      return St;\n    }), n.d(s, \"GroupByModifiedRelative\", function () {\n      return Ct;\n    });\n    var u = {};\n    n.r(u), n.d(u, \"SortByName\", function () {\n      return Tt;\n    }), n.d(u, \"SortByModified\", function () {\n      return xt;\n    });\n    var f = {};\n    n.r(f), n.d(f, \"FontAwesome\", function () {\n      return en;\n    });\n    var p = n(1),\n        d = n.n(p),\n        m = n(0),\n        h = n.n(m),\n        y = n(4),\n        b = n.n(y),\n        g = n(3);\n\n    function v(e) {\n      return (v = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function w(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function F(e, t) {\n      return !t || \"object\" !== v(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function O(e) {\n      return (O = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function D(e, t) {\n      return (D = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var E = function (e) {\n      function t() {\n        var e, n;\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t);\n\n        for (var r = arguments.length, o = new Array(r), i = 0; i < r; i++) {\n          o[i] = arguments[i];\n        }\n\n        return (n = F(this, (e = O(t)).call.apply(e, [this].concat(o)))).handleCloseClick = function (e) {\n          e && e.preventDefault(), n.props.close();\n        }, n;\n      }\n\n      var n, r, o;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && D(e, t);\n      }(t, h.a.Component), n = t, (r = [{\n        key: \"render\",\n        value: function value() {\n          var e = this.props.file.key.split(\"/\");\n          return e = e.length ? e[e.length - 1] : \"\", h.a.createElement(\"div\", null, h.a.createElement(\"h2\", null, \"Item Detail\"), h.a.createElement(\"dl\", null, h.a.createElement(\"dt\", null, \"Key\"), h.a.createElement(\"dd\", null, this.props.file.key), h.a.createElement(\"dt\", null, \"Name\"), h.a.createElement(\"dd\", null, e)), h.a.createElement(\"a\", {\n            href: \"#\",\n            onClick: this.handleCloseClick\n          }, \"Close\"));\n        }\n      }]) && w(n.prototype, r), o && w(n, o), t;\n    }();\n\n    E.propTypes = {\n      file: d.a.shape({\n        key: d.a.string.isRequired,\n        name: d.a.string.isRequired,\n        extension: d.a.string.isRequired,\n        url: d.a.string\n      }).isRequired,\n      close: d.a.func\n    };\n    var P = E;\n\n    function S(e) {\n      return (S = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function R(e, t, n) {\n      return t in e ? Object.defineProperty(e, t, {\n        value: n,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : e[t] = n, e;\n    }\n\n    function k(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function C(e, t) {\n      return !t || \"object\" !== S(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function N(e) {\n      return (N = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function j(e, t) {\n      return (j = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var _ = function (e) {\n      function t() {\n        var e, n;\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t);\n\n        for (var r = arguments.length, o = new Array(r), i = 0; i < r; i++) {\n          o[i] = arguments[i];\n        }\n\n        return (n = C(this, (e = N(t)).call.apply(e, [this].concat(o)))).handleFilterChange = function (e) {\n          var t = n.filterRef.value;\n          n.props.updateFilter(t);\n        }, n;\n      }\n\n      var n, r, o;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && j(e, t);\n      }(t, h.a.Component), n = t, (r = [{\n        key: \"render\",\n        value: function value() {\n          var e,\n              t = this;\n          return h.a.createElement(\"input\", (R(e = {\n            ref: \"filter\"\n          }, \"ref\", function (e) {\n            t.filterRef = e;\n          }), R(e, \"type\", \"search\"), R(e, \"placeholder\", \"Filter files\"), R(e, \"value\", this.props.value), R(e, \"onChange\", this.handleFilterChange), e));\n        }\n      }]) && k(n.prototype, r), o && k(n, o), t;\n    }();\n\n    _.propTypes = {\n      value: d.a.string.isRequired,\n      updateFilter: d.a.func\n    };\n    var T = _,\n        A = n(5),\n        x = n.n(A);\n\n    function K(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        var n = [],\n            r = !0,\n            o = !1,\n            i = void 0;\n\n        try {\n          for (var a, l = e[Symbol.iterator](); !(r = (a = l.next()).done) && (n.push(a.value), !t || n.length !== t); r = !0) {\n            ;\n          }\n        } catch (e) {\n          o = !0, i = e;\n        } finally {\n          try {\n            r || null == l.return || l.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n\n        return n;\n      }(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      }();\n    }\n\n    for (var B = {}, M = Object.entries({\n      Archive: [\"zip\", \"rar\", \"7z\"],\n      Audio: [\"mp3\", \"ogg\", \"wav\", \"aac\"],\n      Excel: [\"xls\", \"xlsx\"],\n      Image: [\"jpg\", \"jpeg\", \"png\", \"bmp\"],\n      PDF: [\"pdf\"],\n      PowerPoint: [\"ppt\", \"pptx\"],\n      Text: [\"txt\"],\n      Video: [\"mp4\", \"flv\", \"avi\", \"wmv\", \"mov\"],\n      Word: [\"doc\", \"docx\"],\n      Code: [\"js\"]\n    }), I = 0; I < M.length; I++) {\n      var L = K(M[I], 2),\n          q = L[0],\n          z = L[1],\n          W = !0,\n          G = !1,\n          Y = void 0;\n\n      try {\n        for (var U, V = z[Symbol.iterator](); !(W = (U = V.next()).done); W = !0) {\n          var H = U.value;\n          B[H] = q;\n        }\n      } catch (e) {\n        G = !0, Y = e;\n      } finally {\n        try {\n          W || null == V.return || V.return();\n        } finally {\n          if (G) throw Y;\n        }\n      }\n    }\n\n    function J(e) {\n      return (J = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function Q(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function X(e, t) {\n      return !t || \"object\" !== J(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function Z(e) {\n      return (Z = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function $(e, t) {\n      return ($ = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var ee = function (e) {\n      function t() {\n        var e, n;\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t);\n\n        for (var r = arguments.length, o = new Array(r), i = 0; i < r; i++) {\n          o[i] = arguments[i];\n        }\n\n        return (n = X(this, (e = Z(t)).call.apply(e, [this].concat(o)))).state = {\n          newName: n.getName()\n        }, n.handleFileClick = function (e) {\n          e && e.preventDefault(), n.props.browserProps.preview({\n            url: n.props.url,\n            name: n.getName(),\n            key: n.props.fileKey,\n            extension: n.getExtension()\n          });\n        }, n.handleItemClick = function (e) {\n          e.stopPropagation(), n.props.browserProps.select(n.props.fileKey, \"file\");\n        }, n.handleItemDoubleClick = function (e) {\n          e.stopPropagation(), n.handleFileClick();\n        }, n.handleRenameClick = function (e) {\n          n.props.browserProps.renameFile && n.props.browserProps.beginAction(\"rename\", n.props.fileKey);\n        }, n.handleNewNameChange = function (e) {\n          var t = n.newNameRef.value;\n          n.setState({\n            newName: t\n          });\n        }, n.handleRenameSubmit = function (e) {\n          if (e && e.preventDefault(), n.props.browserProps.renameFile) {\n            var t = n.state.newName.trim();\n\n            if (0 !== t.length) {\n              if (![\"/\", \"\\\\\"].some(function (e) {\n                return -1 !== t.indexOf(e);\n              })) {\n                var r = t,\n                    o = n.props.fileKey.lastIndexOf(\"/\");\n                -1 !== o && (r = \"\".concat(n.props.fileKey.substr(0, o), \"/\").concat(t)), n.props.browserProps.renameFile(n.props.fileKey, r);\n              }\n            }\n          }\n        }, n.handleDeleteClick = function (e) {\n          n.props.browserProps.deleteFile && n.props.browserProps.beginAction(\"delete\", n.props.fileKey);\n        }, n.handleDeleteSubmit = function (e) {\n          e.preventDefault(), n.props.browserProps.deleteFile && n.props.browserProps.deleteFile(n.props.fileKey);\n        }, n.handleCancelEdit = function (e) {\n          n.props.browserProps.endAction();\n        }, n;\n      }\n\n      var n, r, o;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && $(e, t);\n      }(t, h.a.Component), n = t, (r = [{\n        key: \"componentDidUpdate\",\n        value: function value(e, t) {\n          var n = this;\n          !e.isRenaming && this.props.isRenaming && window.requestAnimationFrame(function () {\n            var e = n.newNameRef.value,\n                t = e.lastIndexOf(\".\");\n            n.newNameRef.setSelectionRange(0, t || e.length), n.newNameRef.focus();\n          });\n        }\n      }, {\n        key: \"getName\",\n        value: function value() {\n          var e = this.props.newKey || this.props.fileKey,\n              t = e.lastIndexOf(\"/\");\n          return -1 !== t && (e = e.substr(t + 1)), e;\n        }\n      }, {\n        key: \"getExtension\",\n        value: function value() {\n          var e = this.props.fileKey.split(\".\");\n          return e[e.length - 1].toLowerCase().trim();\n        }\n      }, {\n        key: \"getFileType\",\n        value: function value() {\n          return B[this.getExtension()] || \"File\";\n        }\n      }, {\n        key: \"connectDND\",\n        value: function value(e) {\n          var t = this.props.isDragging || this.props.action;\n          return \"function\" != typeof this.props.browserProps.moveFile || t || this.props.isRenaming || (e = this.props.connectDragSource(e)), \"function\" != typeof this.props.browserProps.createFiles && \"function\" != typeof this.props.browserProps.moveFile && \"function\" != typeof this.props.browserProps.moveFolder || (e = this.props.connectDropTarget(e)), e;\n        }\n      }]) && Q(n.prototype, r), o && Q(n, o), t;\n    }();\n\n    ee.propTypes = {\n      fileKey: d.a.string,\n      url: d.a.string,\n      newKey: d.a.string,\n      isRenaming: d.a.bool,\n      connectDragSource: d.a.func,\n      connectDropTarget: d.a.func,\n      isDragging: d.a.bool,\n      action: d.a.string,\n      browserProps: d.a.shape({\n        icons: d.a.object,\n        select: d.a.func,\n        beginAction: d.a.func,\n        endAction: d.a.func,\n        preview: d.a.func,\n        createFiles: d.a.func,\n        moveFile: d.a.func,\n        moveFolder: d.a.func,\n        renameFile: d.a.func,\n        deleteFile: d.a.func\n      })\n    };\n    var te,\n        ne = {\n      dragSource: {\n        beginDrag: function beginDrag(e) {\n          return e.browserProps.select(e.fileKey, \"file\"), {\n            key: e.fileKey\n          };\n        },\n        endDrag: function endDrag(e, t, n) {\n          if (t.didDrop()) {\n            var r = t.getDropResult(),\n                o = e.fileKey.split(\"/\"),\n                i = o[o.length - 1],\n                a = \"\".concat(r.path).concat(i);\n            a !== e.fileKey && e.browserProps.moveFile && (e.browserProps.openFolder(r.path), e.browserProps.moveFile(e.fileKey, a));\n          }\n        }\n      },\n      dragCollect: function dragCollect(e, t) {\n        return {\n          connectDragPreview: e.dragPreview(),\n          connectDragSource: e.dragSource(),\n          isDragging: t.isDragging()\n        };\n      },\n      targetSource: {\n        drop: function drop(e, t) {\n          if (!t.didDrop()) {\n            var n = e.newKey || e.fileKey,\n                r = n.lastIndexOf(\"/\"),\n                o = -1 !== r ? n.substr(0, r + 1) : \"\",\n                i = t.getItem();\n            return i.files && e.browserProps.createFiles && e.browserProps.createFiles(i.files, o), {\n              path: o\n            };\n          }\n        }\n      },\n      targetCollect: function targetCollect(e, t) {\n        return {\n          connectDropTarget: e.dropTarget(),\n          isOver: t.isOver({\n            shallow: !0\n          })\n        };\n      }\n    },\n        re = ee;\n\n    function oe(e) {\n      return (oe = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function ie(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function ae(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function le(e, t) {\n      return !t || \"object\" !== oe(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function ce(e) {\n      return (ce = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function se(e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && ue(e, t);\n    }\n\n    function ue(e, t) {\n      return (ue = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var fe = function (e) {\n      function t() {\n        return ie(this, t), le(this, ce(t).apply(this, arguments));\n      }\n\n      var n, r, o;\n      return se(t, h.a.Component), n = t, (r = [{\n        key: \"handleHeaderClick\",\n        value: function value(e) {\n          this.props.select(this.props.fileKey);\n        }\n      }, {\n        key: \"render\",\n        value: function value() {\n          var e = h.a.createElement(\"tr\", {\n            className: x()(\"folder\", {\n              dragover: this.props.isOver,\n              selected: this.props.isSelected\n            })\n          }, h.a.createElement(\"th\", null, \"File\"), h.a.createElement(\"th\", {\n            className: \"size\"\n          }, \"Size\"), h.a.createElement(\"th\", {\n            className: \"modified\"\n          }, \"Last Modified\"));\n          return \"function\" == typeof this.props.browserProps.createFiles || \"function\" == typeof this.props.browserProps.moveFile || \"function\" == typeof this.props.browserProps.moveFolder ? this.props.connectDropTarget(e) : e;\n        }\n      }]) && ae(n.prototype, r), o && ae(n, o), t;\n    }();\n\n    fe.propTypes = {\n      select: d.a.func,\n      fileKey: d.a.string,\n      connectDropTarget: d.a.func,\n      isOver: d.a.bool,\n      isSelected: d.a.func,\n      browserProps: d.a.shape({\n        createFiles: d.a.func,\n        moveFolder: d.a.func,\n        moveFile: d.a.func\n      })\n    };\n    var pe,\n        de = Object(g.DropTarget)([\"file\", \"folder\", y.NativeTypes.FILE], ne.targetSource, ne.targetCollect)(te = function (e) {\n      function t() {\n        return ie(this, t), le(this, ce(t).apply(this, arguments));\n      }\n\n      return se(t, fe), t;\n    }()) || te,\n        me = n(2),\n        he = n.n(me);\n\n    function ye(e) {\n      if (e > 1024) {\n        var t = e / 1024;\n        return t > 1024 ? \"\".concat(function (e, t) {\n          if (e = parseFloat(e), isNaN(e)) return parseFloat(\"0\").toFixed(t);\n          var n = Math.pow(10, t);\n          return (e = (Math.round(e * n) / n).toFixed(t)).toString();\n        }(t / 1024, 2), \" MB\") : \"\".concat(Math.round(t), \" kB\");\n      }\n\n      return \"\".concat(e, \" B\");\n    }\n\n    function be(e) {\n      return (be = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function ge() {\n      return (ge = Object.assign || function (e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var n = arguments[t];\n\n          for (var r in n) {\n            Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    }\n\n    function ve(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function we(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function Fe(e, t) {\n      return !t || \"object\" !== be(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function Oe(e) {\n      return (Oe = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function De(e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && Ee(e, t);\n    }\n\n    function Ee(e, t) {\n      return (Ee = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var Pe = function (e) {\n      function t() {\n        return ve(this, t), Fe(this, Oe(t).apply(this, arguments));\n      }\n\n      var n, r, o;\n      return De(t, re), n = t, (r = [{\n        key: \"render\",\n        value: function value() {\n          var e,\n              t = this,\n              n = this.props,\n              r = n.thumbnail_url,\n              o = n.action,\n              i = n.url,\n              a = n.isDragging,\n              l = n.isRenaming,\n              c = n.isSelected,\n              s = n.isSelectable,\n              u = n.isOver,\n              f = n.isDeleting,\n              p = n.showName,\n              d = n.showSize,\n              m = n.showModified,\n              y = n.browserProps,\n              b = n.connectDragPreview;\n          e = r ? h.a.createElement(\"div\", {\n            className: \"image\",\n            style: {\n              backgroundImage: \"url(\" + r + \")\"\n            }\n          }) : y.icons[this.getFileType()] || y.icons.File;\n          var g,\n              v,\n              w,\n              F = a || o,\n              O = y.confirmDeletionRenderer;\n          p && (g = !F && f ? h.a.createElement(O, {\n            handleDeleteSubmit: this.handleDeleteSubmit,\n            handleFileClick: this.handleFileClick,\n            url: i\n          }, this.getName()) : !F && l ? h.a.createElement(\"form\", {\n            className: \"renaming\",\n            onSubmit: this.handleRenameSubmit\n          }, h.a.createElement(\"input\", {\n            ref: function ref(e) {\n              t.newNameRef = e;\n            },\n            type: \"text\",\n            value: this.state.newName,\n            onChange: this.handleNewNameChange,\n            onBlur: this.handleCancelEdit,\n            autoFocus: !0\n          })) : h.a.createElement(\"a\", {\n            href: i,\n            download: \"download\",\n            onClick: this.handleFileClick\n          }, this.getName())), d && (l || f || (v = h.a.createElement(\"span\", {\n            className: \"size\"\n          }, h.a.createElement(\"small\", null, ye(this.props.size))))), m && (l || f || (w = h.a.createElement(\"span\", {\n            className: \"modified\"\n          }, \"Last modified: \", he()(this.props.modified).fromNow())));\n          var D = {};\n          s && (D = {\n            onClick: this.handleItemClick\n          });\n          var E = h.a.createElement(\"li\", ge({\n            className: x()(\"file\", {\n              pending: o,\n              dragging: a,\n              dragover: u,\n              selected: c\n            }),\n            onDoubleClick: this.handleItemDoubleClick\n          }, D), h.a.createElement(\"div\", {\n            className: \"item\"\n          }, h.a.createElement(\"span\", {\n            className: \"thumb\"\n          }, e), h.a.createElement(\"span\", {\n            className: \"name\"\n          }, g), v, w));\n          return \"function\" == typeof y.moveFile && (E = b(E)), this.connectDND(E);\n        }\n      }]) && we(n.prototype, r), o && we(n, o), t;\n    }();\n\n    Pe.defaultProps = {\n      showName: !0,\n      showSize: !0,\n      showModified: !0,\n      isSelectable: !0\n    };\n    var Se = Object(g.DragSource)(\"file\", ne.dragSource, ne.dragCollect)(pe = Object(g.DropTarget)([\"file\", \"folder\", y.NativeTypes.FILE], ne.targetSource, ne.targetCollect)(pe = function (e) {\n      function t() {\n        return ve(this, t), Fe(this, Oe(t).apply(this, arguments));\n      }\n\n      return De(t, Pe), t;\n    }()) || pe) || pe;\n\n    function Re(e) {\n      return (Re = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function ke() {\n      return (ke = Object.assign || function (e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var n = arguments[t];\n\n          for (var r in n) {\n            Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    }\n\n    function Ce(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function Ne(e, t) {\n      return !t || \"object\" !== Re(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function je(e) {\n      return (je = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function _e(e, t) {\n      return (_e = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var Te,\n        Ae = function (e) {\n      function t() {\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t), Ne(this, je(t).apply(this, arguments));\n      }\n\n      var n, r, o;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && _e(e, t);\n      }(t, h.a.Component), n = t, (r = [{\n        key: \"render\",\n        value: function value() {\n          return h.a.createElement(Se, ke({}, this.props, {\n            showName: !1,\n            showSize: !1,\n            showModified: !1,\n            isSelectable: !1\n          }));\n        }\n      }]) && Ce(n.prototype, r), o && Ce(n, o), t;\n    }();\n\n    function xe(e) {\n      return (xe = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function Ke(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function Be(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function Me(e, t) {\n      return !t || \"object\" !== xe(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function Ie(e) {\n      return (Ie = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function Le(e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && qe(e, t);\n    }\n\n    function qe(e, t) {\n      return (qe = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var ze = function (e) {\n      function t() {\n        return Ke(this, t), Me(this, Ie(t).apply(this, arguments));\n      }\n\n      var n, r, o;\n      return Le(t, re), n = t, (r = [{\n        key: \"render\",\n        value: function value() {\n          var e,\n              t = this,\n              n = this.props,\n              r = n.isDragging,\n              o = n.isDeleting,\n              i = n.isRenaming,\n              a = n.isOver,\n              l = n.isSelected,\n              c = n.action,\n              s = n.url,\n              u = n.browserProps,\n              f = n.connectDragPreview,\n              p = n.depth,\n              d = n.size,\n              m = n.modified,\n              y = u.icons[this.getFileType()] || u.icons.File,\n              b = r || c,\n              g = u.confirmDeletionRenderer;\n          e = !b && o ? h.a.createElement(g, {\n            handleDeleteSubmit: this.handleDeleteSubmit,\n            handleFileClick: this.handleFileClick,\n            url: s\n          }, y, this.getName()) : !b && i ? h.a.createElement(\"form\", {\n            className: \"renaming\",\n            onSubmit: this.handleRenameSubmit\n          }, y, h.a.createElement(\"input\", {\n            ref: function ref(e) {\n              t.newNameRef = e;\n            },\n            type: \"text\",\n            value: this.state.newName,\n            onChange: this.handleNewNameChange,\n            onBlur: this.handleCancelEdit,\n            autoFocus: !0\n          })) : h.a.createElement(\"a\", {\n            href: s || \"#\",\n            download: \"download\",\n            onClick: this.handleFileClick\n          }, y, this.getName());\n          var v = h.a.createElement(\"div\", null, e);\n          \"function\" == typeof u.moveFile && (v = f(v));\n          var w = h.a.createElement(\"tr\", {\n            className: x()(\"file\", {\n              pending: c,\n              dragging: r,\n              dragover: a,\n              selected: l\n            }),\n            onClick: this.handleItemClick,\n            onDoubleClick: this.handleItemDoubleClick\n          }, h.a.createElement(\"td\", {\n            className: \"name\"\n          }, h.a.createElement(\"div\", {\n            style: {\n              paddingLeft: 16 * p + \"px\"\n            }\n          }, v)), h.a.createElement(\"td\", {\n            className: \"size\"\n          }, ye(d)), h.a.createElement(\"td\", {\n            className: \"modified\"\n          }, void 0 === m ? \"-\" : he()(m, \"x\").fromNow()));\n          return this.connectDND(w);\n        }\n      }]) && Be(n.prototype, r), o && Be(n, o), t;\n    }(),\n        We = Object(g.DragSource)(\"file\", ne.dragSource, ne.dragCollect)(Te = Object(g.DropTarget)([\"file\", \"folder\", y.NativeTypes.FILE], ne.targetSource, ne.targetCollect)(Te = function (e) {\n      function t() {\n        return Ke(this, t), Me(this, Ie(t).apply(this, arguments));\n      }\n\n      return Le(t, ze), t;\n    }()) || Te) || Te;\n\n    function Ge(e) {\n      return (Ge = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function Ye(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function Ue(e, t) {\n      return !t || \"object\" !== Ge(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function Ve(e) {\n      return (Ve = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function He(e, t) {\n      return (He = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var Je = function (e) {\n      function t() {\n        var e, n;\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t);\n\n        for (var r = arguments.length, o = new Array(r), i = 0; i < r; i++) {\n          o[i] = arguments[i];\n        }\n\n        return (n = Ue(this, (e = Ve(t)).call.apply(e, [this].concat(o)))).state = {\n          newName: n.props.isDraft ? \"New folder\" : n.getName()\n        }, n.selectAllNewName = function () {\n          window.requestAnimationFrame(function () {\n            var e = n.newNameRef.value;\n            n.newNameRef.setSelectionRange(0, e.length), n.newNameRef.focus();\n          });\n        }, n.handleFolderClick = function (e) {\n          e.stopPropagation(), n.props.browserProps.select(n.props.fileKey, \"folder\");\n        }, n.handleFolderDoubleClick = function (e) {\n          e.stopPropagation(), n.toggleFolder();\n        }, n.handleRenameClick = function (e) {\n          n.props.browserProps.renameFolder && n.props.browserProps.beginAction(\"rename\", n.props.fileKey);\n        }, n.handleNewNameChange = function (e) {\n          var t = n.newNameRef.value;\n          n.setState({\n            newName: t\n          });\n        }, n.handleRenameSubmit = function (e) {\n          if (e.preventDefault(), n.props.browserProps.renameFolder) {\n            var t = n.state.newName.trim();\n\n            if (0 !== t.length) {\n              if (![\"/\", \"\\\\\"].some(function (e) {\n                return -1 !== t.indexOf(e);\n              })) {\n                var r = n.props.fileKey.substr(0, n.props.fileKey.substr(0, n.props.fileKey.length - 1).lastIndexOf(\"/\"));\n                r.length && (r += \"/\"), r += t, r += \"/\", n.props.isDraft ? n.props.browserProps.createFolder(r) : n.props.browserProps.renameFolder(n.props.fileKey, r);\n              }\n            }\n          }\n        }, n.handleDeleteClick = function (e) {\n          n.props.browserProps.deleteFolder && n.props.browserProps.beginAction(\"delete\", n.props.fileKey);\n        }, n.handleDeleteSubmit = function (e) {\n          e.preventDefault(), n.props.browserProps.deleteFolder && n.props.browserProps.deleteFolder(n.props.fileKey);\n        }, n.handleCancelEdit = function (e) {\n          n.props.browserProps.endAction();\n        }, n.toggleFolder = function () {\n          n.props.browserProps.toggleFolder(n.props.fileKey);\n        }, n;\n      }\n\n      var n, r, o;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && He(e, t);\n      }(t, h.a.Component), n = t, (r = [{\n        key: \"componentDidMount\",\n        value: function value() {\n          this.props.isDraft && this.selectAllNewName();\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function value(e, t) {\n          !e.isRenaming && this.props.isRenaming && this.selectAllNewName();\n        }\n      }, {\n        key: \"getName\",\n        value: function value() {\n          if (this.props.name) return this.props.name;\n          var e = this.props.fileKey.split(\"/\");\n          return this.props.newName || e[e.length - 2];\n        }\n      }, {\n        key: \"connectDND\",\n        value: function value(e) {\n          var t = this.props.isDragging || this.props.action;\n          return this.props.keyDerived && (\"function\" != typeof this.props.browserProps.moveFolder || t || this.props.isRenaming || this.props.isDeleting || (e = this.props.connectDragSource(e)), \"function\" != typeof this.props.browserProps.createFiles && \"function\" != typeof this.props.browserProps.moveFolder && \"function\" != typeof this.props.browserProps.moveFile || (e = this.props.connectDropTarget(e))), e;\n        }\n      }]) && Ye(n.prototype, r), o && Ye(n, o), t;\n    }();\n\n    Je.propTypes = {\n      name: d.a.string,\n      fileKey: d.a.string,\n      newName: d.a.string,\n      keyDerived: d.a.bool,\n      isDraft: d.a.bool,\n      isRenaming: d.a.bool,\n      isDeleting: d.a.bool,\n      connectDragSource: d.a.func,\n      connectDropTarget: d.a.func,\n      isDragging: d.a.bool,\n      action: d.a.string,\n      browserProps: d.a.shape({\n        select: d.a.func,\n        toggleFolder: d.a.func,\n        beginAction: d.a.func,\n        endAction: d.a.func,\n        preview: d.a.func,\n        createFiles: d.a.func,\n        createFolder: d.a.func,\n        moveFile: d.a.func,\n        moveFolder: d.a.func,\n        renameFolder: d.a.func,\n        deleteFolder: d.a.func\n      })\n    };\n    var Qe,\n        Xe = {\n      dragSource: {\n        beginDrag: function beginDrag(e) {\n          return e.browserProps.select(e.fileKey, \"folder\"), {\n            key: e.fileKey\n          };\n        },\n        endDrag: function endDrag(e, t, n) {\n          if (t.didDrop()) {\n            var r = t.getDropResult(),\n                o = e.fileKey.split(\"/\"),\n                i = o[o.length - 2],\n                a = \"\".concat(r.path).concat(i, \"/\");\n            a.substr(0, e.fileKey.length) !== e.fileKey && a !== e.fileKey && e.browserProps.moveFolder && (e.browserProps.openFolder(r.path), e.browserProps.moveFolder(e.fileKey, a));\n          }\n        }\n      },\n      dragCollect: function dragCollect(e, t) {\n        return {\n          connectDragPreview: e.dragPreview(),\n          connectDragSource: e.dragSource(),\n          isDragging: t.isDragging()\n        };\n      }\n    },\n        Ze = Je;\n\n    function $e(e) {\n      return e.key.endsWith(\"/\");\n    }\n\n    function et(e) {\n      return (et = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function tt() {\n      return (tt = Object.assign || function (e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var n = arguments[t];\n\n          for (var r in n) {\n            Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    }\n\n    function nt(e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var n = null != arguments[t] ? arguments[t] : {},\n            r = Object.keys(n);\n        \"function\" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {\n          return Object.getOwnPropertyDescriptor(n, e).enumerable;\n        }))), r.forEach(function (t) {\n          rt(e, t, n[t]);\n        });\n      }\n\n      return e;\n    }\n\n    function rt(e, t, n) {\n      return t in e ? Object.defineProperty(e, t, {\n        value: n,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : e[t] = n, e;\n    }\n\n    function ot(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function it(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function at(e, t) {\n      return !t || \"object\" !== et(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function lt(e) {\n      return (lt = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function ct(e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && st(e, t);\n    }\n\n    function st(e, t) {\n      return (st = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var ut,\n        ft = function (e) {\n      function t() {\n        return ot(this, t), at(this, lt(t).apply(this, arguments));\n      }\n\n      var n, r, o;\n      return ct(t, Ze), n = t, (r = [{\n        key: \"render\",\n        value: function value() {\n          var e,\n              t,\n              n = this,\n              r = this.props,\n              o = r.isOpen,\n              i = r.isDragging,\n              a = r.isDeleting,\n              l = r.isRenaming,\n              c = r.isDraft,\n              s = r.isOver,\n              u = r.isSelected,\n              f = r.url,\n              p = r.action,\n              d = r.browserProps,\n              m = r.depth,\n              y = r.keyDerived,\n              b = r.connectDragPreview,\n              g = d.icons[o ? \"FolderOpen\" : \"Folder\"],\n              v = i || p,\n              w = d.confirmDeletionRenderer;\n\n          if (e = !v && a ? h.a.createElement(w, {\n            handleDeleteSubmit: this.handleDeleteSubmit,\n            handleFileClick: this.handleFileClick,\n            url: f\n          }, this.getName()) : !v && l || c ? h.a.createElement(\"div\", null, h.a.createElement(\"form\", {\n            className: \"renaming\",\n            onSubmit: this.handleRenameSubmit\n          }, h.a.createElement(\"input\", {\n            type: \"text\",\n            ref: function ref(e) {\n              n.newNameRef = e;\n            },\n            value: this.state.newName,\n            onChange: this.handleNewNameChange,\n            onBlur: this.handleCancelEdit,\n            autoFocus: !0\n          }))) : h.a.createElement(\"div\", null, h.a.createElement(\"a\", {\n            onClick: this.toggleFolder\n          }, this.getName())), o && d.nestChildren) {\n            t = [];\n\n            for (var F = 0; F < t.length; F++) {\n              var O = t[F],\n                  D = nt({}, d.getItemProps(O, d), {\n                depth: m + 1\n              });\n              $e(O) ? t.push(h.a.createElement(d.folderRenderer, tt({}, O, D, {\n                browserProps: d\n              }, d.folderRendererProps))) : t.push(h.a.createElement(d.fileRenderer, tt({}, O, D, {\n                browserProps: d\n              }, d.fileRendererProps)));\n            }\n\n            t = t.length ? h.a.createElement(\"ul\", {\n              style: {\n                padding: \"0 8px\",\n                paddingLeft: \"16px\"\n              }\n            }, t) : h.a.createElement(\"p\", null, \"No items in this folder\");\n          }\n\n          var E = h.a.createElement(\"li\", {\n            className: x()(\"folder\", {\n              expanded: o && d.nestChildren,\n              pending: p,\n              dragging: i,\n              dragover: s,\n              selected: u\n            }),\n            onClick: this.handleFolderClick,\n            onDoubleClick: this.handleFolderDoubleClick\n          }, h.a.createElement(\"div\", {\n            className: \"item\"\n          }, h.a.createElement(\"span\", {\n            className: \"thumb\"\n          }, g), h.a.createElement(\"span\", {\n            className: \"name\"\n          }, e)), t);\n          return \"function\" == typeof d.moveFolder && y && (E = b(E)), this.connectDND(E);\n        }\n      }]) && it(n.prototype, r), o && it(n, o), t;\n    }(),\n        pt = Object(g.DragSource)(\"folder\", Xe.dragSource, Xe.dragCollect)(Qe = Object(g.DropTarget)([\"file\", \"folder\", y.NativeTypes.FILE], ne.targetSource, ne.targetCollect)(Qe = function (e) {\n      function t() {\n        return ot(this, t), at(this, lt(t).apply(this, arguments));\n      }\n\n      return ct(t, ft), t;\n    }()) || Qe) || Qe;\n\n    function dt(e) {\n      return (dt = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function mt(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function ht(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function yt(e, t) {\n      return !t || \"object\" !== dt(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function bt(e) {\n      return (bt = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function gt(e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && vt(e, t);\n    }\n\n    function vt(e, t) {\n      return (vt = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var wt = function (e) {\n      function t() {\n        return mt(this, t), yt(this, bt(t).apply(this, arguments));\n      }\n\n      var n, r, o;\n      return gt(t, Ze), n = t, (r = [{\n        key: \"render\",\n        value: function value() {\n          var e,\n              t = this,\n              n = this.props,\n              r = n.isOpen,\n              o = n.isDragging,\n              i = n.isDeleting,\n              a = n.isRenaming,\n              l = n.isDraft,\n              c = n.isOver,\n              s = n.isSelected,\n              u = n.action,\n              f = n.url,\n              p = n.browserProps,\n              d = n.connectDragPreview,\n              m = n.depth,\n              y = p.icons[r ? \"FolderOpen\" : \"Folder\"],\n              b = o || u,\n              g = p.confirmDeletionRenderer;\n          e = !b && i ? h.a.createElement(g, {\n            handleDeleteSubmit: this.handleDeleteSubmit,\n            handleFileClick: this.handleFileClick,\n            url: f\n          }, y, this.getName()) : !b && a || l ? h.a.createElement(\"div\", null, h.a.createElement(\"form\", {\n            className: \"renaming\",\n            onSubmit: this.handleRenameSubmit\n          }, y, h.a.createElement(\"input\", {\n            type: \"text\",\n            ref: function ref(e) {\n              t.newNameRef = e;\n            },\n            value: this.state.newName,\n            onChange: this.handleNewNameChange,\n            onBlur: this.handleCancelEdit,\n            autoFocus: !0\n          }))) : h.a.createElement(\"div\", null, h.a.createElement(\"a\", {\n            onClick: this.toggleFolder\n          }, y, this.getName()));\n          var v = h.a.createElement(\"div\", null, e);\n          \"function\" == typeof p.moveFile && (v = d(v));\n          var w = h.a.createElement(\"tr\", {\n            className: x()(\"folder\", {\n              pending: u,\n              dragging: o,\n              dragover: c,\n              selected: s\n            }),\n            onClick: this.handleFolderClick,\n            onDoubleClick: this.handleFolderDoubleClick\n          }, h.a.createElement(\"td\", {\n            className: \"name\"\n          }, h.a.createElement(\"div\", {\n            style: {\n              paddingLeft: 16 * m + \"px\"\n            }\n          }, v)), h.a.createElement(\"td\", null), h.a.createElement(\"td\", null));\n          return this.connectDND(w);\n        }\n      }]) && ht(n.prototype, r), o && ht(n, o), t;\n    }(),\n        Ft = Object(g.DragSource)(\"folder\", Xe.dragSource, Xe.dragCollect)(ut = Object(g.DropTarget)([\"file\", \"folder\", y.NativeTypes.FILE], ne.targetSource, ne.targetCollect)(ut = function (e) {\n      function t() {\n        return mt(this, t), yt(this, bt(t).apply(this, arguments));\n      }\n\n      return gt(t, wt), t;\n    }()) || ut) || ut,\n        Ot = function Ot(e) {\n      var t = e.children,\n          n = e.handleDeleteSubmit,\n          r = e.handleFileClick,\n          o = e.url;\n      return h.a.createElement(\"form\", {\n        className: \"deleting\",\n        onSubmit: n\n      }, h.a.createElement(\"a\", {\n        href: o,\n        download: \"download\",\n        onClick: r\n      }, t), h.a.createElement(\"div\", null, h.a.createElement(\"button\", {\n        type: \"submit\"\n      }, \"Confirm Deletion\")));\n    };\n\n    Ot.propTypes = {\n      children: d.a.node,\n      handleDeleteSubmit: d.a.func,\n      handleFileClick: d.a.func,\n      url: d.a.string\n    }, Ot.defaultProps = {\n      url: \"#\"\n    };\n    var Dt = Ot;\n\n    function Et(e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var n = null != arguments[t] ? arguments[t] : {},\n            r = Object.keys(n);\n        \"function\" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {\n          return Object.getOwnPropertyDescriptor(n, e).enumerable;\n        }))), r.forEach(function (t) {\n          Pt(e, t, n[t]);\n        });\n      }\n\n      return e;\n    }\n\n    function Pt(e, t, n) {\n      return t in e ? Object.defineProperty(e, t, {\n        value: n,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : e[t] = n, e;\n    }\n\n    var St = function St(e, t) {\n      var n = {\n        contents: [],\n        children: {}\n      };\n      return e.map(function (e) {\n        e.relativeKey = (e.newKey || e.key).substr(t.length);\n        var r = n,\n            o = e.relativeKey.split(\"/\");\n        o.map(function (t, n) {\n          if (n === o.length - 1 && $e(e)) for (var i in e) {\n            r[i] = e[i];\n          }\n          \"\" !== t && (!$e(e) && n === o.length - 1 ? r.contents.push(Et({}, e, {\n            keyDerived: !0\n          })) : (t in r.children == !1 && (r.children[t] = {\n            contents: [],\n            children: {}\n          }), r = r.children[t]));\n        });\n      }), e = function e(n, r) {\n        \"\" !== r && (r += \"/\");\n        var o = [];\n\n        for (var i in n.children) {\n          o.push(Et({}, n.children[i], {\n            contents: void 0,\n            keyDerived: !0,\n            key: t + r + i + \"/\",\n            relativeKey: r + i + \"/\",\n            children: e(n.children[i], r + i),\n            size: 0\n          }));\n        }\n\n        return o = o.concat(n.contents);\n      }(n, \"\");\n    };\n\n    function Rt(e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var n = null != arguments[t] ? arguments[t] : {},\n            r = Object.keys(n);\n        \"function\" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {\n          return Object.getOwnPropertyDescriptor(n, e).enumerable;\n        }))), r.forEach(function (t) {\n          kt(e, t, n[t]);\n        });\n      }\n\n      return e;\n    }\n\n    function kt(e, t, n) {\n      return t in e ? Object.defineProperty(e, t, {\n        value: n,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : e[t] = n, e;\n    }\n\n    var Ct = function Ct(e, t) {\n      for (var n, r, o = (n = [], r = he()(), n.push({\n        name: \"Today\",\n        begins: he()().startOf(\"day\"),\n        ends: he()().endOf(\"day\"),\n        items: []\n      }), n.push({\n        name: \"Yesterday\",\n        begins: he()(n[n.length - 1].begins - he.a.duration(24, \"hours\")),\n        ends: he()(n[n.length - 1].ends - he.a.duration(24, \"hours\")),\n        items: []\n      }), n.push({\n        name: \"Earlier this Week\",\n        begins: n[0].begins.clone().startOf(\"week\"),\n        ends: n[0].begins.clone().startOf(\"week\").endOf(\"week\"),\n        items: []\n      }), n.push({\n        name: \"Last Week\",\n        begins: he()(n[2].begins - he.a.duration(7, \"days\")),\n        ends: he()(n[2].begins - he.a.duration(7, \"days\")).endOf(\"week\"),\n        items: []\n      }), he()(n[n.length - 1].begins).month() === r.month() && n.push({\n        name: \"Earlier this Month\",\n        begins: he()().startOf(\"month\"),\n        ends: he()().startOf(\"month\").endOf(\"month\"),\n        items: []\n      }), n), i = 0; i < e.length; i++) {\n        var a = e[i];\n\n        if (!$e(a)) {\n          for (var l = Rt({}, a, {\n            keyDerived: !0\n          }), c = !1, s = +he()(l.modified), u = 0; u < o.length; u++) {\n            var f = o[u];\n\n            if (s > +f.begins && s <= +f.ends) {\n              f.items.push(l), c = !0;\n              break;\n            }\n          }\n\n          if (!c) {\n            var p = {\n              name: he()(l.modified).format(\"MMMM YYYY\"),\n              begins: he()(l.modified).startOf(\"month\"),\n              ends: he()(l.modified).startOf(\"month\").endOf(\"month\"),\n              items: []\n            };\n            p.items.push(l), o.push(p);\n          }\n        }\n      }\n\n      for (var d = [], m = 0; m < o.length; m++) {\n        var h = o[m];\n        h.items.length && d.push({\n          key: \"\".concat(h.name.toLowerCase().replace(\" \", \"_\"), \"/\"),\n          name: h.name,\n          children: h.items,\n          size: 0\n        });\n      }\n\n      return d;\n    },\n        Nt = /(-?\\d*\\.?\\d+)/g;\n\n    function jt(e, t) {\n      for (var n = String(e.name).split(Nt), r = String(t.name).split(Nt), o = Math.min(n.length, r.length), i = 0; i < o; i++) {\n        var a = parseFloat(n[i]) || n[i].toLowerCase(),\n            l = parseFloat(r[i]) || r[i].toLowerCase();\n        if (a < l) return -1;\n        if (a > l) return 1;\n      }\n\n      return 0;\n    }\n\n    function _t(e, t) {\n      return e.draft && !t.draft ? 1 : t.draft && !e.draft ? -1 : jt(e, t);\n    }\n\n    var Tt = function Tt(e) {\n      return function e(t) {\n        for (var n = [], r = [], o = 0; o < t.length; o++) {\n          var i = t[o],\n              a = (i.newKey || i.key).split(\"/\");\n          i.children ? (i.name || (i.name = a[a.length - 2]), n.push(i)) : (i.name || (i.name = a[a.length - 1]), r.push(i));\n        }\n\n        r = r.sort(jt), n = n.sort(_t);\n\n        for (var l = 0; l < n.length; l++) {\n          var c = n[l];\n          c.children = e(c.children);\n        }\n\n        var s = [];\n        return s = (s = s.concat(n)).concat(r);\n      }(e);\n    };\n\n    function At(e, t) {\n      return +he()(e.modified) < +he()(t.modified);\n    }\n\n    var xt = function xt(e) {\n      return function e(t) {\n        for (var n = [], r = [], o = 0; o < t.length; o++) {\n          var i = t[o],\n              a = (i.newKey || i.key).split(\"/\");\n          i.children ? n.push(i) : (i.name = a[a.length - 1], r.push(i));\n        }\n\n        r = r.sort(At);\n\n        for (var l = 0; l < n.length; l++) {\n          var c = n[l];\n          c.children = e(c.children);\n        }\n\n        var s = [];\n        return s = (s = s.concat(n)).concat(r);\n      }(e);\n    },\n        Kt = function Kt(e) {\n      var t = e.selectedItem,\n          n = e.isFolder,\n          r = e.icons,\n          o = e.nameFilter,\n          i = e.canCreateFolder,\n          a = e.onCreateFolder,\n          l = e.canRenameFile,\n          c = e.onRenameFile,\n          s = e.canRenameFolder,\n          u = e.onRenameFolder,\n          f = e.canDeleteFile,\n          p = e.onDeleteFile,\n          d = e.canDeleteFolder,\n          m = e.onDeleteFolder,\n          y = e.canDownloadFile,\n          b = e.onDownloadFile,\n          g = [];\n      if (t) {\n        if (t.action) {\n          var v;\n\n          switch (t.action) {\n            case \"delete\":\n              v = \"Deleting ...\";\n              break;\n\n            case \"rename\":\n              v = \"Renaming ...\";\n              break;\n\n            default:\n              v = \"Moving ...\";\n          }\n\n          g = h.a.createElement(\"div\", {\n            className: \"item-actions\"\n          }, r.Loading, \" \", v);\n        } else n && i && !o && g.push(h.a.createElement(\"li\", {\n          key: \"action-add-folder\"\n        }, h.a.createElement(\"a\", {\n          onClick: a,\n          href: \"#\",\n          role: \"button\"\n        }, r.Folder, \" Add Subfolder\"))), t.keyDerived && !n && l ? g.push(h.a.createElement(\"li\", {\n          key: \"action-rename\"\n        }, h.a.createElement(\"a\", {\n          onClick: c,\n          href: \"#\",\n          role: \"button\"\n        }, r.Rename, \" Rename\"))) : t.keyDerived && n && s && g.push(h.a.createElement(\"li\", {\n          key: \"action-rename\"\n        }, h.a.createElement(\"a\", {\n          onClick: u,\n          href: \"#\",\n          role: \"button\"\n        }, r.Rename, \" Rename\"))), t.keyDerived && !n && f ? g.push(h.a.createElement(\"li\", {\n          key: \"action-delete\"\n        }, h.a.createElement(\"a\", {\n          onClick: p,\n          href: \"#\",\n          role: \"button\"\n        }, r.Delete, \" Delete\"))) : t.keyDerived && n && d && g.push(h.a.createElement(\"li\", {\n          key: \"action-delete\"\n        }, h.a.createElement(\"a\", {\n          onClick: m,\n          href: \"#\",\n          role: \"button\"\n        }, r.Delete, \" Delete\"))), !n && y && g.push(h.a.createElement(\"li\", {\n          key: \"action-download\"\n        }, h.a.createElement(\"a\", {\n          onClick: b,\n          href: \"#\",\n          role: \"button\"\n        }, r.Download, \" Download\"))), g = g.length ? h.a.createElement(\"ul\", {\n          className: \"item-actions\"\n        }, g) : h.a.createElement(\"div\", {\n          className: \"item-actions\"\n        }, \" \");\n      } else i && !o && g.push(h.a.createElement(\"li\", {\n        key: \"action-add-folder\"\n      }, h.a.createElement(\"a\", {\n        onClick: a,\n        href: \"#\",\n        role: \"button\"\n      }, r.Folder, \" Add Folder\"))), g = g.length ? h.a.createElement(\"ul\", {\n        className: \"item-actions\"\n      }, g) : h.a.createElement(\"div\", {\n        className: \"item-actions\"\n      }, \" \");\n      return g;\n    };\n\n    Kt.propTypes = {\n      selectedItem: d.a.object,\n      isFolder: d.a.bool,\n      icons: d.a.object,\n      nameFilter: d.a.string,\n      canCreateFolder: d.a.bool,\n      onCreateFolder: d.a.func,\n      canRenameFile: d.a.bool,\n      onRenameFile: d.a.func,\n      canRenameFolder: d.a.bool,\n      onRenameFolder: d.a.func,\n      canDeleteFile: d.a.bool,\n      onDeleteFile: d.a.func,\n      canDeleteFolder: d.a.bool,\n      onDeleteFolder: d.a.func,\n      canDownloadFile: d.a.bool,\n      onDownloadFile: d.a.func\n    }, Kt.defaultProps = {\n      selectedItem: null,\n      isFolder: !1,\n      icons: {},\n      nameFilter: \"\",\n      canCreateFolder: !1,\n      onCreateFolder: null,\n      canRenameFile: !1,\n      onRenameFile: null,\n      canRenameFolder: !1,\n      onRenameFolder: null,\n      canDeleteFile: !1,\n      onDeleteFile: null,\n      canDeleteFolder: !1,\n      onDeleteFolder: null,\n      canDownloadFile: !1,\n      onDownloadFile: null\n    };\n    var Bt,\n        Mt = Kt;\n\n    function It(e) {\n      return (It = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function Lt() {\n      return (Lt = Object.assign || function (e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var n = arguments[t];\n\n          for (var r in n) {\n            Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    }\n\n    function qt(e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var n = null != arguments[t] ? arguments[t] : {},\n            r = Object.keys(n);\n        \"function\" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {\n          return Object.getOwnPropertyDescriptor(n, e).enumerable;\n        }))), r.forEach(function (t) {\n          zt(e, t, n[t]);\n        });\n      }\n\n      return e;\n    }\n\n    function zt(e, t, n) {\n      return t in e ? Object.defineProperty(e, t, {\n        value: n,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : e[t] = n, e;\n    }\n\n    function Wt(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function Gt(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function Yt(e, t) {\n      return !t || \"object\" !== It(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function Ut(e) {\n      return (Ut = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function Vt(e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && Ht(e, t);\n    }\n\n    function Ht(e, t) {\n      return (Ht = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var Jt = 20;\n\n    function Qt(e, t) {\n      return {\n        key: \"file-\".concat(e.key),\n        fileKey: e.key,\n        isSelected: e.key === t.selection,\n        isOpen: e.key in t.openFolders || t.nameFilter,\n        isRenaming: \"rename\" === t.activeAction && t.actionTarget === e.key,\n        isDeleting: \"delete\" === t.activeAction && t.actionTarget === e.key,\n        isDraft: !!e.draft\n      };\n    }\n\n    var Xt = function (e) {\n      function t() {\n        var e, n;\n        Wt(this, t);\n\n        for (var r = arguments.length, o = new Array(r), i = 0; i < r; i++) {\n          o[i] = arguments[i];\n        }\n\n        return (n = Yt(this, (e = Ut(t)).call.apply(e, [this].concat(o)))).state = {\n          openFolders: {},\n          selection: null,\n          activeAction: null,\n          actionTarget: null,\n          nameFilter: \"\",\n          searchResultsShown: Jt,\n          previewFile: null,\n          addFolder: null\n        }, n.getFile = function (e) {\n          return n.props.files.find(function (t) {\n            return t.key === e;\n          });\n        }, n.createFiles = function (e, t) {\n          n.setState(function (e) {\n            var n = {\n              selection: null\n            };\n            return t && (n.openFolders = qt({}, e.openFolders, zt({}, t, !0))), n;\n          }, function () {\n            n.props.onCreateFiles(e, t);\n          });\n        }, n.createFolder = function (e) {\n          n.setState({\n            activeAction: null,\n            actionTarget: null,\n            selection: e\n          }, function () {\n            n.props.onCreateFolder(e);\n          });\n        }, n.moveFile = function (e, t) {\n          n.setState({\n            activeAction: null,\n            actionTarget: null,\n            selection: t\n          }, function () {\n            n.props.onMoveFile(e, t);\n          });\n        }, n.moveFolder = function (e, t) {\n          n.setState(function (n) {\n            var r = {\n              activeAction: null,\n              actionTarget: null,\n              selection: t\n            };\n            return e in n.openFolders && (r.openFolders = qt({}, n.openFolders, zt({}, t, !0))), r;\n          }, function () {\n            n.props.onMoveFolder(e, t);\n          });\n        }, n.renameFile = function (e, t) {\n          n.setState({\n            activeAction: null,\n            actionTarget: null,\n            selection: t\n          }, function () {\n            n.props.onRenameFile(e, t);\n          });\n        }, n.renameFolder = function (e, t) {\n          n.setState(function (n) {\n            var r = {\n              activeAction: null,\n              actionTarget: null\n            };\n            return n.selection.substr(0, e.length) === e && (r.selection = n.selection.replace(e, t)), e in n.openFolders && (r.openFolders = qt({}, n.openFolders, zt({}, t, !0))), r;\n          }, function () {\n            n.props.onRenameFolder(e, t);\n          });\n        }, n.deleteFile = function (e) {\n          n.setState({\n            activeAction: null,\n            actionTarget: null,\n            selection: null\n          }, function () {\n            n.props.onDeleteFile(e);\n          });\n        }, n.deleteFolder = function (e) {\n          n.setState(function (t) {\n            var n = {\n              activeAction: null,\n              actionTarget: null,\n              selection: null\n            };\n            return e in t.openFolders && (n.openFolders = qt({}, t.openFolders), delete n.openFolders[e]), n;\n          }, function () {\n            n.props.onDeleteFolder(e);\n          });\n        }, n.downloadFile = function (e) {\n          n.setState({\n            activeAction: null,\n            actionTarget: null\n          }, function () {\n            n.props.onDownloadFile(e);\n          });\n        }, n.beginAction = function (e, t) {\n          n.setState({\n            activeAction: e,\n            actionTarget: t\n          });\n        }, n.endAction = function () {\n          null !== n.state.selection && -1 !== n.state.selection.indexOf(\"__new__\") && n.setState({\n            selection: null\n          }), n.beginAction(null, null);\n        }, n.select = function (e, t) {\n          var r = n.state.actionTarget,\n              o = null !== r && r !== e,\n              i = n.getFile(e);\n          n.setState(function (t) {\n            return {\n              selection: e,\n              actionTarget: o ? null : r,\n              activeAction: o ? null : t.activeAction\n            };\n          }, function () {\n            n.props.onSelect(i), \"file\" === t && n.props.onSelectFile(i), \"folder\" === t && n.props.onSelectFolder(i);\n          });\n        }, n.preview = function (e) {\n          n.state.previewFile && n.state.previewFile.key !== e.key && n.closeDetail(), n.setState({\n            previewFile: e\n          }, function () {\n            n.props.onPreviewOpen(e);\n          });\n        }, n.closeDetail = function () {\n          n.setState({\n            previewFile: null\n          }, function () {\n            n.props.onPreviewClose(n.state.previewFile);\n          });\n        }, n.handleShowMoreClick = function (e) {\n          e.preventDefault(), n.setState(function (e) {\n            return {\n              searchResultsShown: e.searchResultsShown + Jt\n            };\n          });\n        }, n.toggleFolder = function (e) {\n          var t = e in n.state.openFolders;\n          n.setState(function (n) {\n            var r = {\n              openFolders: qt({}, n.openFolders)\n            };\n            return t ? delete r.openFolders[e] : r.openFolders[e] = !0, r;\n          }, function () {\n            var r = t ? \"onFolderClose\" : \"onFolderOpen\";\n            n.props[r](n.getFile(e));\n          });\n        }, n.openFolder = function (e) {\n          n.setState(function (t) {\n            return {\n              openFolders: qt({}, t.openFolders, zt({}, e, !0))\n            };\n          }, function () {\n            n.props.onFolderOpen(n.getFile(e));\n          });\n        }, n.handleGlobalClick = function (e) {\n          var t = !(!n.browserRef || !n.browserRef.contains(e.target)),\n              r = !(!n.previewRef || !n.previewRef.contains(e.target));\n          t || r || n.setState({\n            selection: null,\n            actionTarget: null,\n            activeAction: null\n          });\n        }, n.handleActionBarRenameClick = function (e) {\n          e.preventDefault(), n.beginAction(\"rename\", n.state.selection);\n        }, n.handleActionBarDeleteClick = function (e) {\n          e.preventDefault(), n.beginAction(\"delete\", n.state.selection);\n        }, n.handleActionBarAddFolderClick = function (e) {\n          e.preventDefault(), \"createFolder\" !== n.state.activeAction && n.setState(function (e) {\n            var t = \"\";\n            e.selection && \"/\" !== (t += e.selection).substr(t.length - 1, t.length) && (t += \"/\");\n            var r = {\n              actionTarget: t += \"__new__/\",\n              activeAction: \"createFolder\",\n              selection: t\n            };\n            return e.selection && (r.openFolders = qt({}, e.openFolders, zt({}, n.state.selection, !0))), r;\n          });\n        }, n.handleActionBarDownloadClick = function (e) {\n          e.preventDefault(), n.downloadFile(n.state.selection);\n        }, n.updateFilter = function (e) {\n          n.setState({\n            nameFilter: e,\n            searchResultsShown: Jt\n          });\n        }, n;\n      }\n\n      var n, r, o;\n      return Vt(t, h.a.Component), n = t, (r = [{\n        key: \"componentDidMount\",\n        value: function value() {\n          \"table\" === this.props.renderStyle && this.props.nestChildren && console.warn(\"Invalid settings: Cannot nest table children in file browser\"), window.addEventListener(\"click\", this.handleGlobalClick);\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function value() {\n          window.removeEventListener(\"click\", this.handleGlobalClick);\n        }\n      }, {\n        key: \"getBrowserProps\",\n        value: function value() {\n          return {\n            nestChildren: this.props.nestChildren,\n            fileRenderer: this.props.fileRenderer,\n            fileRendererProps: this.props.fileRendererProps,\n            folderRenderer: this.props.folderRenderer,\n            folderRendererProps: this.props.folderRendererProps,\n            confirmDeletionRenderer: this.props.confirmDeletionRenderer,\n            icons: this.props.icons,\n            openFolders: this.state.openFolders,\n            nameFilter: this.state.nameFilter,\n            selection: this.state.selection,\n            activeAction: this.state.activeAction,\n            actionTarget: this.state.actionTarget,\n            select: this.select,\n            openFolder: this.openFolder,\n            toggleFolder: this.toggleFolder,\n            beginAction: this.beginAction,\n            endAction: this.endAction,\n            preview: this.preview,\n            createFiles: this.props.onCreateFiles ? this.createFiles : void 0,\n            createFolder: this.props.onCreateFolder ? this.createFolder : void 0,\n            renameFile: this.props.onRenameFile ? this.renameFile : void 0,\n            renameFolder: this.props.onRenameFolder ? this.renameFolder : void 0,\n            moveFile: this.props.onMoveFile ? this.moveFile : void 0,\n            moveFolder: this.props.onMoveFolder ? this.moveFolder : void 0,\n            deleteFile: this.props.onDeleteFile ? this.deleteFile : void 0,\n            deleteFolder: this.props.onDeleteFolder ? this.deleteFolder : void 0,\n            getItemProps: Qt\n          };\n        }\n      }, {\n        key: \"renderActionBar\",\n        value: function value(e) {\n          var t,\n              n = this.props,\n              r = n.icons,\n              o = n.canFilter,\n              i = n.filterRendererProps,\n              a = n.filterRenderer,\n              l = n.actionRenderer,\n              c = n.onCreateFolder,\n              s = n.onRenameFile,\n              u = n.onRenameFolder,\n              f = n.onDeleteFile,\n              p = n.onDeleteFolder,\n              d = n.onDownloadFile,\n              m = this.getBrowserProps(),\n              y = e && !e.size;\n          o && (t = h.a.createElement(a, Lt({\n            value: this.state.nameFilter,\n            updateFilter: this.updateFilter\n          }, i)));\n          var b = h.a.createElement(l, {\n            browserProps: m,\n            selectedItem: e,\n            isFolder: y,\n            icons: r,\n            nameFilter: this.state.nameFilter,\n            canCreateFolder: \"function\" == typeof c,\n            onCreateFolder: this.handleActionBarAddFolderClick,\n            canRenameFile: \"function\" == typeof s,\n            onRenameFile: this.handleActionBarRenameClick,\n            canRenameFolder: \"function\" == typeof u,\n            onRenameFolder: this.handleActionBarRenameClick,\n            canDeleteFile: \"function\" == typeof f,\n            onDeleteFile: this.handleActionBarDeleteClick,\n            canDeleteFolder: \"function\" == typeof p,\n            onDeleteFolder: this.handleActionBarDeleteClick,\n            canDownloadFile: \"function\" == typeof d,\n            onDownloadFile: this.handleActionBarDownloadClick\n          });\n          return h.a.createElement(\"div\", {\n            className: \"action-bar\"\n          }, t, b);\n        }\n      }, {\n        key: \"renderFiles\",\n        value: function value(e, t) {\n          var n = this,\n              r = this.props,\n              o = r.fileRenderer,\n              i = r.fileRendererProps,\n              a = r.folderRenderer,\n              l = r.folderRendererProps,\n              c = this.getBrowserProps(),\n              s = [];\n          return e.map(function (e) {\n            var r = qt({}, c.getItemProps(e, c), {\n              depth: n.state.nameFilter ? 0 : t\n            });\n            $e(e) ? (n.state.nameFilter || s.push(h.a.createElement(a, Lt({}, e, r, {\n              browserProps: c\n            }, l))), (n.state.nameFilter || r.isOpen && !c.nestChildren) && (s = s.concat(n.renderFiles(e.children, t + 1)))) : s.push(h.a.createElement(o, Lt({}, e, r, {\n              browserProps: c\n            }, i)));\n          }), s;\n        }\n      }, {\n        key: \"render\",\n        value: function value() {\n          var e,\n              t = this,\n              n = {\n            browserProps: this.getBrowserProps(),\n            fileKey: \"\",\n            fileCount: this.props.files.length\n          },\n              r = this.props.files.concat([]);\n\n          if (\"createFolder\" === this.state.activeAction && r.push({\n            key: this.state.actionTarget,\n            size: 0,\n            draft: !0\n          }), this.state.nameFilter) {\n            var o = [],\n                i = this.state.nameFilter.toLowerCase().split(\" \");\n            r.map(function (e) {\n              var t = !1;\n              i.map(function (n) {\n                -1 === e.key.toLowerCase().trim().indexOf(n) && (t = !0);\n              }), t || o.push(e);\n            }), r = o;\n          }\n\n          if (\"function\" == typeof this.props.group) r = this.props.group(r, \"\");else {\n            var a = [];\n            r.map(function (e) {\n              $e(e) || a.push(e);\n            }), r = a;\n          }\n          var l,\n              c = null;\n          r.map(function e(n) {\n            n.key === t.state.selection && (c = n), n.children && n.children.map(e);\n          }), \"function\" == typeof this.props.sort && (r = this.props.sort(r));\n          var s = this.renderFiles(r, 0);\n\n          switch (this.props.renderStyle) {\n            case \"table\":\n              if (s.length) {\n                if (this.state.nameFilter) s.length > (s = s.slice(0, this.state.searchResultsShown)).length && s.push(h.a.createElement(\"tr\", {\n                  key: \"show-more\"\n                }, h.a.createElement(\"td\", {\n                  colSpan: \"100\"\n                }, h.a.createElement(\"a\", {\n                  onClick: this.handleShowMoreClick,\n                  href: \"#\"\n                }, \"Show more results\"))));\n              } else s = this.state.nameFilter ? h.a.createElement(\"tr\", null, h.a.createElement(\"td\", {\n                colSpan: \"100\"\n              }, 'No files matching \"', this.state.nameFilter, '\".')) : h.a.createElement(\"tr\", null, h.a.createElement(\"td\", {\n                colSpan: \"100\"\n              }, this.props.noFilesMessage));\n\n              this.props.headerRenderer && (l = h.a.createElement(\"thead\", null, h.a.createElement(this.props.headerRenderer, Lt({}, n, this.props.headerRendererProps)))), e = h.a.createElement(\"table\", {\n                cellSpacing: \"0\",\n                cellPadding: \"0\"\n              }, l, h.a.createElement(\"tbody\", null, s));\n              break;\n\n            case \"list\":\n              if (s.length) {\n                var u;\n                if (this.state.nameFilter) s.length > (s = s.slice(0, this.state.searchResultsShown)).length && (u = h.a.createElement(\"a\", {\n                  onClick: this.handleShowMoreClick,\n                  href: \"#\"\n                }, \"Show more results\"));\n                s = h.a.createElement(\"div\", null, h.a.createElement(\"ul\", null, s), u);\n              } else s = this.state.nameFilter ? h.a.createElement(\"p\", {\n                className: \"empty\"\n              }, 'No files matching \"', this.state.nameFilter, '\"') : h.a.createElement(\"p\", {\n                className: \"empty\"\n              }, \"No files.\");\n\n              this.props.headerRenderer && (l = h.a.createElement(this.props.headerRenderer, Lt({}, n, this.props.headerRendererProps))), e = h.a.createElement(\"div\", null, l, s);\n          }\n\n          return h.a.createElement(\"div\", {\n            className: \"rendered-react-keyed-file-browser\"\n          }, this.props.actions, h.a.createElement(\"div\", {\n            className: \"rendered-file-browser\",\n            ref: function ref(e) {\n              t.browserRef = e;\n            }\n          }, this.props.showActionBar && this.renderActionBar(c), h.a.createElement(\"div\", {\n            className: \"files\"\n          }, e)), null !== this.state.previewFile && h.a.createElement(this.props.detailRenderer, Lt({\n            file: this.state.previewFile,\n            close: this.closeDetail\n          }, this.props.detailRendererProps)));\n        }\n      }]) && Gt(n.prototype, r), o && Gt(n, o), t;\n    }();\n\n    Xt.propTypes = {\n      files: d.a.array.isRequired,\n      actions: d.a.node,\n      showActionBar: d.a.bool.isRequired,\n      canFilter: d.a.bool.isRequired,\n      noFilesMessage: d.a.string,\n      group: d.a.func.isRequired,\n      sort: d.a.func.isRequired,\n      icons: d.a.shape({\n        Folder: d.a.element,\n        FolderOpen: d.a.element,\n        File: d.a.element,\n        PDF: d.a.element,\n        Image: d.a.element,\n        Delete: d.a.element,\n        Rename: d.a.element,\n        Loading: d.a.element,\n        Download: d.a.element\n      }),\n      nestChildren: d.a.bool.isRequired,\n      renderStyle: d.a.oneOf([\"list\", \"table\"]).isRequired,\n      startOpen: d.a.bool.isRequired,\n      headerRenderer: d.a.func,\n      headerRendererProps: d.a.object,\n      filterRenderer: d.a.func,\n      filterRendererProps: d.a.object,\n      fileRenderer: d.a.func,\n      fileRendererProps: d.a.object,\n      folderRenderer: d.a.func,\n      folderRendererProps: d.a.object,\n      detailRenderer: d.a.func,\n      detailRendererProps: d.a.object,\n      actionRenderer: d.a.func,\n      confirmDeletionRenderer: d.a.func,\n      onCreateFiles: d.a.oneOfType([d.a.func, d.a.bool]),\n      onCreateFolder: d.a.oneOfType([d.a.func, d.a.bool]),\n      onMoveFile: d.a.oneOfType([d.a.func, d.a.bool]),\n      onMoveFolder: d.a.oneOfType([d.a.func, d.a.bool]),\n      onRenameFile: d.a.oneOfType([d.a.func, d.a.bool]),\n      onRenameFolder: d.a.oneOfType([d.a.func, d.a.bool]),\n      onDeleteFile: d.a.oneOfType([d.a.func, d.a.bool]),\n      onDeleteFolder: d.a.oneOfType([d.a.func, d.a.bool]),\n      onDownloadFile: d.a.oneOfType([d.a.func, d.a.bool]),\n      onSelect: d.a.func,\n      onSelectFile: d.a.func,\n      onSelectFolder: d.a.func,\n      onPreviewOpen: d.a.func,\n      onPreviewClose: d.a.func,\n      onFolderOpen: d.a.func,\n      onFolderClose: d.a.func\n    }, Xt.defaultProps = {\n      showActionBar: !0,\n      canFilter: !0,\n      noFilesMessage: \"No files.\",\n      group: St,\n      sort: Tt,\n      nestChildren: !1,\n      renderStyle: \"table\",\n      startOpen: !1,\n      headerRenderer: de,\n      headerRendererProps: {},\n      filterRenderer: T,\n      filterRendererProps: {},\n      fileRenderer: We,\n      fileRendererProps: {},\n      folderRenderer: Ft,\n      folderRendererProps: {},\n      detailRenderer: P,\n      detailRendererProps: {},\n      actionRenderer: Mt,\n      confirmDeletionRenderer: Dt,\n      icons: {},\n      onSelect: function onSelect(e) {},\n      onSelectFile: function onSelectFile(e) {},\n      onSelectFolder: function onSelectFolder(e) {},\n      onPreviewOpen: function onPreviewOpen(e) {},\n      onPreviewClose: function onPreviewClose(e) {},\n      onFolderOpen: function onFolderOpen(e) {},\n      onFolderClose: function onFolderClose(e) {}\n    };\n\n    var Zt = Object(g.DragDropContext)(b.a)(Bt = function (e) {\n      function t() {\n        return Wt(this, t), Yt(this, Ut(t).apply(this, arguments));\n      }\n\n      return Vt(t, Xt), t;\n    }()) || Bt,\n        $t = function $t(e) {\n      var t = 4 === e ? \"fa\" : \"fas\",\n          n = 4 === e ? [\"FontAwesome\", '\"FontAwesome\"'] : ['\"Font Awesome 5 Free\"', '\"Font Awesome 5 Pro\"'],\n          r = !1,\n          o = document.createElement(\"span\");\n      o.className = t, o.style.display = \"none\", document.body.insertBefore(o, document.body.firstChild);\n      var i, a;\n      return n.includes((i = o, a = \"font-family\", window.getComputedStyle(i, null).getPropertyValue(a))) ? r = !0 : console.warn(\"Font Awesome \".concat(e, \" was not detected but Font Awesome \").concat(e, \" icons have been requested for `react-object-list`\")), document.body.removeChild(o), r;\n    },\n        en = function en() {\n      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 4;\n\n      switch (e) {\n        case 4:\n          return $t(4), {\n            File: h.a.createElement(\"i\", {\n              className: \"fa fa-file-o\",\n              \"aria-hidden\": \"true\"\n            }),\n            Image: h.a.createElement(\"i\", {\n              className: \"fa fa-file-image-o\",\n              \"aria-hidden\": \"true\"\n            }),\n            Video: h.a.createElement(\"i\", {\n              className: \"fa fa-file-video-o\",\n              \"aria-hidden\": \"true\"\n            }),\n            Audio: h.a.createElement(\"i\", {\n              className: \"fa fa-file-audio-o\",\n              \"aria-hidden\": \"true\"\n            }),\n            Archive: h.a.createElement(\"i\", {\n              className: \"fa fa-file-archive-o\",\n              \"aria-hidden\": \"true\"\n            }),\n            Word: h.a.createElement(\"i\", {\n              className: \"fa fa-file-word-o\",\n              \"aria-hidden\": \"true\"\n            }),\n            Excel: h.a.createElement(\"i\", {\n              className: \"fa fa-file-excel-o\",\n              \"aria-hidden\": \"true\"\n            }),\n            PowerPoint: h.a.createElement(\"i\", {\n              className: \"fa fa-file-powerpoint-o\",\n              \"aria-hidden\": \"true\"\n            }),\n            Text: h.a.createElement(\"i\", {\n              className: \"fa fa-file-text-o\",\n              \"aria-hidden\": \"true\"\n            }),\n            PDF: h.a.createElement(\"i\", {\n              className: \"fa fa-file-pdf-o\",\n              \"aria-hidden\": \"true\"\n            }),\n            Rename: h.a.createElement(\"i\", {\n              className: \"fa fa-i-cursor\",\n              \"aria-hidden\": \"true\"\n            }),\n            Folder: h.a.createElement(\"i\", {\n              className: \"fa fa-folder-o\",\n              \"aria-hidden\": \"true\"\n            }),\n            FolderOpen: h.a.createElement(\"i\", {\n              className: \"fa fa-folder-open-o\",\n              \"aria-hidden\": \"true\"\n            }),\n            Delete: h.a.createElement(\"i\", {\n              className: \"fa fa-trash-o\",\n              \"aria-hidden\": \"true\"\n            }),\n            Loading: h.a.createElement(\"i\", {\n              className: \"fa fa-circle-o-notch fa-spin\",\n              \"aria-hidden\": \"true\"\n            }),\n            Download: h.a.createElement(\"i\", {\n              className: \"fa fa-download\",\n              \"aria-hidden\": \"true\"\n            })\n          };\n\n        case 5:\n          return $t(5), {\n            File: h.a.createElement(\"i\", {\n              className: \"far fa-file\",\n              \"aria-hidden\": \"true\"\n            }),\n            Image: h.a.createElement(\"i\", {\n              className: \"far fa-file-image\",\n              \"aria-hidden\": \"true\"\n            }),\n            Video: h.a.createElement(\"i\", {\n              className: \"far fa-file-video\",\n              \"aria-hidden\": \"true\"\n            }),\n            Audio: h.a.createElement(\"i\", {\n              className: \"far fa-file-audio\",\n              \"aria-hidden\": \"true\"\n            }),\n            Archive: h.a.createElement(\"i\", {\n              className: \"far fa-file-archive\",\n              \"aria-hidden\": \"true\"\n            }),\n            Word: h.a.createElement(\"i\", {\n              className: \"far fa-file-word\",\n              \"aria-hidden\": \"true\"\n            }),\n            Excel: h.a.createElement(\"i\", {\n              className: \"far fa-file-excel\",\n              \"aria-hidden\": \"true\"\n            }),\n            PowerPoint: h.a.createElement(\"i\", {\n              className: \"far fa-file-powerpoint\",\n              \"aria-hidden\": \"true\"\n            }),\n            Text: h.a.createElement(\"i\", {\n              className: \"far fa-file-alt\",\n              \"aria-hidden\": \"true\"\n            }),\n            PDF: h.a.createElement(\"i\", {\n              className: \"far fa-file-pdf\",\n              \"aria-hidden\": \"true\"\n            }),\n            Rename: h.a.createElement(\"i\", {\n              className: \"far fa-i-cursor\",\n              \"aria-hidden\": \"true\"\n            }),\n            Folder: h.a.createElement(\"i\", {\n              className: \"far fa-folder\",\n              \"aria-hidden\": \"true\"\n            }),\n            FolderOpen: h.a.createElement(\"i\", {\n              className: \"far fa-folder-open\",\n              \"aria-hidden\": \"true\"\n            }),\n            Delete: h.a.createElement(\"i\", {\n              className: \"far fa-trash-alt\",\n              \"aria-hidden\": \"true\"\n            }),\n            Loading: h.a.createElement(\"i\", {\n              className: \"fas fa-circle-notch fa-spin\",\n              \"aria-hidden\": \"true\"\n            }),\n            Download: h.a.createElement(\"i\", {\n              className: \"fas fa-download\",\n              \"aria-hidden\": \"true\"\n            })\n          };\n\n        default:\n          console.warn(\"Could not find config for version \".concat(e), \"Accepted versions are: 4, 5\", \"Please make an issue in `react-object-list` to fix this.\");\n      }\n    };\n\n    n.d(t, \"RawFileBrowser\", function () {\n      return Xt;\n    }), n.d(t, \"BaseFile\", function () {\n      return re;\n    }), n.d(t, \"BaseFileConnectors\", function () {\n      return ne;\n    }), n.d(t, \"BaseFolder\", function () {\n      return Ze;\n    }), n.d(t, \"BaseFolderConnectors\", function () {\n      return Xe;\n    }), n.d(t, \"Headers\", function () {\n      return i;\n    }), n.d(t, \"FileRenderers\", function () {\n      return a;\n    }), n.d(t, \"FolderRenderers\", function () {\n      return c;\n    }), n.d(t, \"Details\", function () {\n      return r;\n    }), n.d(t, \"Filters\", function () {\n      return o;\n    }), n.d(t, \"Groupers\", function () {\n      return s;\n    }), n.d(t, \"Sorters\", function () {\n      return u;\n    }), n.d(t, \"Icons\", function () {\n      return f;\n    }), n.d(t, \"Utils\", function () {\n      return l;\n    });\n    t.default = Zt;\n  }]);\n});","map":null,"metadata":{},"sourceType":"script"}