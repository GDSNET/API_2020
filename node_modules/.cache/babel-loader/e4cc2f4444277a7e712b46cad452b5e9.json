{"ast":null,"code":"'use strict';\n\nvar express = require('express');\n\nvar filemanagerMiddleware = require('./middleware');\n\nvar logger = require('./logger');\n\nvar app = express();\n\nfunction run() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : require('./config/server-config');\n  var host = config.host;\n  var port = config.port;\n  app.use(function (req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*');\n    next();\n  });\n  app.use(filemanagerMiddleware(config));\n  app.listen(port, host, function (err) {\n    if (err) {\n      logger.error(err);\n    }\n\n    logger.info(\"Server listening at http://\".concat(host, \":\").concat(port));\n  });\n  process.on('exit', function () {\n    logger.warn('Server has been stopped');\n  });\n}\n\nmodule.exports = {\n  run: run\n};","map":null,"metadata":{},"sourceType":"script"}